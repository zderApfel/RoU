[gd_scene load_steps=13 format=3 uid="uid://bj0jo67t2470p"]

[ext_resource type="Script" path="res://scenes/test_map.gd" id="1_5s2km"]
[ext_resource type="PackedScene" uid="uid://t0g6ei0k5aga" path="res://nodes/entities/player/player.tscn" id="3_jdv74"]
[ext_resource type="PackedScene" uid="uid://5wdqoodxqi73" path="res://nodes/items/Firearm/akm.tscn" id="3_t5846"]
[ext_resource type="PackedScene" uid="uid://dcda5volpr50g" path="res://classes/entities/Human.tscn" id="4_87ppg"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_s83ws"]
sky_horizon_color = Color(0.644289, 0.654676, 0.681618, 1)
ground_bottom_color = Color(0.192157, 0.164706, 0.176471, 1)
ground_horizon_color = Color(0.644289, 0.654676, 0.681618, 1)

[sub_resource type="Sky" id="Sky_8x17u"]
sky_material = SubResource("ProceduralSkyMaterial_s83ws")

[sub_resource type="Environment" id="Environment_ivyuy"]
background_mode = 2
sky = SubResource("Sky_8x17u")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="PlaneMesh" id="PlaneMesh_5212l"]
size = Vector2(30, 30)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_6b0hm"]
albedo_color = Color(0.258824, 0.239216, 0.133333, 1)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_vtvis"]
points = PackedVector3Array(-15, 0, -15, -15, 0, 15, 15, 0, -15, 15, 0, 15)

[sub_resource type="BoxMesh" id="BoxMesh_h1agb"]
size = Vector3(6.811, 2.22, 8.219)

[sub_resource type="BoxShape3D" id="BoxShape3D_abtxr"]
size = Vector3(6.811, 2.22, 8.219)

[node name="Game" type="Node3D"]
script = ExtResource("1_5s2km")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_ivyuy")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866025, -0.433013, 0.25, 0, 0.5, 0.866025, -0.5, 0.75, -0.433013, 0, 6.23469, 0)
shadow_enabled = true

[node name="floor" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.216735, -0.087575, -0.338433)
collision_layer = 30
collision_mask = 30

[node name="Mesh" type="MeshInstance3D" parent="floor"]
mesh = SubResource("PlaneMesh_5212l")
skeleton = NodePath("../..")
surface_material_override/0 = SubResource("StandardMaterial3D_6b0hm")

[node name="CollisionShape3D" type="CollisionShape3D" parent="floor"]
shape = SubResource("ConvexPolygonShape3D_vtvis")

[node name="Player" parent="." instance=ExtResource("3_jdv74")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.01993, 1.40045, -0.0100081)

[node name="pivot" parent="Player" index="0"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, -0.00144064, 1.27077, 0.00261831)

[node name="human_01" parent="Player" index="1"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0.00374943, 0, -0.00451565)

[node name="torso" parent="Player/human_01/Armature/Skeleton3D" index="1"]
transform = Transform3D(0.981093, 0.202586, 5.68678e-06, 1.19624e-05, 8.37981e-06, -1.00026, -0.202402, 0.981718, -3.16751e-05, 0.00669765, 0.601641, -0.0462638)
collision_layer = 1
collision_mask = 1
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.000127584, 9.45401e-05, 0.359775)
body_offset = Transform3D(1.00175, -3.03984e-06, 1.19711e-05, 1.19624e-05, 8.37981e-06, -1.00026, 5.66542e-05, 1.0024, -2.98722e-05, 0.000123501, 0.359868, -8.40127e-05)

[node name="neck" parent="Player/human_01/Armature/Skeleton3D" index="2"]
transform = Transform3D(0.994657, -0.0865491, -0.051, -0.0547877, -0.0387608, -0.995188, 0.0845079, 0.995302, -0.0432942, 0.0120413, 1.14114, 0.0240979)
collision_layer = 1
collision_mask = 1
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00147206, -0.0624533, 0.184094)
body_offset = Transform3D(0.995725, -0.0769258, -0.0453368, -0.0487173, -0.0392304, -0.995483, 0.0751285, 0.996074, -0.0428114, 0.00500774, 0.180741, 0.0702)

[node name="upperarm_r" parent="Player/human_01/Armature/Skeleton3D" index="3"]
transform = Transform3D(-0.98119, 0.202509, -4.79017e-06, -1.53655e-05, 3.48137e-05, 0.992313, 0.202478, 0.981162, -2.77948e-05, -0.374386, 0.848771, 0.0323728)
collision_layer = 1
collision_mask = 1
joint_offset = Transform3D(0.999999, 0, 0, 0, 0.999996, 0, 0, 0, 0.999996, 4.48486e-05, 9.14034e-05, 0.114854)
body_offset = Transform3D(1.00186, -3.40492e-05, -9.2611e-07, 1.53655e-05, -3.48138e-05, -0.992314, -1.54972e-06, 1.00184, -2.81894e-05, -4.48227e-05, 0.113971, -8.83341e-05)

[node name="forearm_r" parent="Player/human_01/Armature/Skeleton3D" index="4"]
transform = Transform3D(-0.982514, 0.202379, 0.00806697, 0.00824735, -0.000100071, 1.00498, 0.202814, 0.980941, -0.00163956, -0.37555, 0.602681, 0.032691)
collision_layer = 1
collision_mask = 1
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.59145e-05, 8.56809e-06, 0.135199)
body_offset = Transform3D(1.00326, 4.84586e-05, 5.65359e-06, -2.42093e-05, 0.00010033, -1.00502, 5.94854e-05, 1.0016, 2.44977e-05, 4.52995e-05, 0.135877, -1.18911e-05)

[node name="hand_r" parent="Player/human_01/Armature/Skeleton3D" index="5"]
transform = Transform3D(0.977263, 1.41403e-06, 0.201935, 2.44054e-05, 0.991798, 4.42902e-05, -0.201543, 9.46078e-06, 0.979244, -0.376607, 0.386477, 0.0328994)
collision_layer = 1
collision_mask = 1
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.87547e-05, 0.0846227, 2.05703e-05)
body_offset = Transform3D(-0.997829, 5.18229e-07, 0.000140592, -2.44138e-05, -0.9918, -4.44335e-05, 0.000124469, 9.4094e-06, 0.999848, 3.86238e-05, 0.0839288, -2.13683e-05)

[node name="upperarm_l" parent="Player/human_01/Armature/Skeleton3D" index="6"]
transform = Transform3D(-0.979917, 0.202226, 8.53178e-05, -7.77779e-06, -3.8438e-05, 1.00016, 0.202174, 0.980237, 4.54046e-05, 0.383831, 0.848901, -0.125523)
collision_layer = 1
collision_mask = 1
joint_offset = Transform3D(-3.61999e-06, 0, 0.999999, 0, 1, 0, -1, 0, -3.61999e-06, 4.86543e-05, -9.79726e-05, 0.112706)
body_offset = Transform3D(1.00056, 5.57899e-05, -7.43808e-05, 7.77779e-06, 3.8438e-05, -1.00016, -4.25875e-05, 1.00088, 6.17107e-05, -4.02927e-05, 0.112724, 9.11057e-05)

[node name="forearm_l" parent="Player/human_01/Armature/Skeleton3D" index="7"]
transform = Transform3D(-1.0201, 0.20944, -0.00137765, -0.00133576, 6.20517e-05, 1.02413, 0.215063, 0.999323, 0.000259434, 0.389314, 0.645103, -0.126112)
collision_layer = 1
collision_mask = 1
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00518044, -0.000630531, 0.0901637)
body_offset = Transform3D(1.04252, -0.00315148, 2.538e-06, -8.84824e-05, -5.78884e-05, -1.02413, 0.0044592, 1.02103, -2.44892e-05, -0.00540292, 0.09234, 0.000622898)

[node name="hand_l" parent="Player/human_01/Armature/Skeleton3D" index="8"]
transform = Transform3D(0.981656, -3.65776e-05, 0.202634, 6.19553e-05, 1.00177, 7.21739e-05, -0.202733, 2.17642e-05, 0.981313, 0.384795, 0.367872, -0.12224)
collision_layer = 1
collision_mask = 1
joint_offset = Transform3D(1, -5.68434e-14, -9.31196e-10, 5.68434e-14, 1, -1.42109e-14, 9.31196e-10, 1.42109e-14, 1, 5.05889e-05, 0.101236, -0.00349587)
body_offset = Transform3D(-1.0023, -0.0117169, -0.000127718, 0.0117022, -1.00171, -7.08334e-05, -0.000154167, 1.37695e-05, 1.00202, 0.00123644, 0.101408, 0.00350153)

[node name="thigh_r" parent="Player/human_01/Armature/Skeleton3D" index="9"]
transform = Transform3D(-0.190295, -0.981829, -0.00664593, -0.0349142, 3.77268e-05, 1.00119, -0.981487, 0.190403, -0.0342708, -0.118037, 0.0170934, -0.0414891)
collision_layer = 1
collision_mask = 1
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.000291632, -2.18921e-06, 0.127829)
body_offset = Transform3D(1.00037, -1.83135e-05, 3.46936e-05, 8.91052e-05, -3.72273e-05, -1.00179, -2.3216e-05, 1.00012, 3.94881e-07, -0.000296175, 0.128058, 2.14577e-06)

[node name="foreleg_r" parent="Player/human_01/Armature/Skeleton3D" index="10"]
transform = Transform3D(-0.190412, -0.982049, -0.00142905, -0.0349835, 0.00531501, 1.00293, -0.982486, 0.190129, -0.0353026, -0.116755, -0.289436, -0.0311835)
collision_layer = 1
collision_mask = 1
joint_offset = Transform3D(0.999999, 0, 0, 0, -4.37113e-08, -0.999999, 0, 0.999999, -4.37113e-08, -1.86941e-05, 0.00030508, 0.190117)
joint_rotation = Vector3(1.5708, 0, 0)
body_offset = Transform3D(1.00138, 0.000107944, -6.4224e-06, 0.000122972, -4.0614e-05, -1.00356, -9.91374e-05, 1.0003, -1.87941e-05, 1.9908e-05, 0.190794, -0.0003016)

[node name="ankle_r" parent="Player/human_01/Armature/Skeleton3D" index="11"]
transform = Transform3D(0.982022, -0.00665274, 0.190207, 5.58607e-06, 1.00091, 0.034881, -0.190428, -0.0342029, 0.981719, -0.117753, -0.584853, -0.023305)
collision_layer = 1
collision_mask = 1
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00117228, 0.104549, 0.00276022)
body_offset = Transform3D(5.0813e-06, -2.08691e-05, -1.00059, -0.0105347, -1.00146, -4.69647e-05, -1.00026, 0.0105616, 0.00015454, 0.00276402, 0.104713, 6.79493e-05)

[node name="thigh_l" parent="Player/human_01/Armature/Skeleton3D" index="12"]
transform = Transform3D(0.170554, 0.962984, -2.75506e-07, 0.0482063, -0.00859255, 1.00069, 0.968093, -0.169084, -0.0508893, 0.111196, 0.0144767, -0.0847356)
collision_layer = 1
collision_mask = 1
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00145865, -4.21511e-05, 0.130568)
body_offset = Transform3D(0.984183, -2.16961e-05, 8.19191e-05, 0.00110468, -2.03354e-05, -1.00198, 0.000162899, 0.977753, -1.48676e-05, 0.00142488, 0.130828, 4.33922e-05)

[node name="foreleg_l" parent="Player/human_01/Armature/Skeleton3D" index="13"]
transform = Transform3D(0.174125, 0.985971, -0.00523517, 0.0712876, -0.00728798, 0.999804, 0.980854, -0.173375, -0.0718122, 0.111565, -0.311419, -0.104922)
collision_layer = 1
collision_mask = 1
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.76841e-05, 0.00033497, 0.190607)
body_offset = Transform3D(0.998737, -0.000124454, -3.26335e-05, 4.2513e-05, -1.94758e-05, -1.00239, 0.00123009, 1.00113, -1.73198e-05, -5.13494e-05, 0.191063, -0.000332117)

[node name="ankle_l" parent="Player/human_01/Armature/Skeleton3D" index="14"]
transform = Transform3D(0.986138, 7.14027e-06, 0.173094, -0.0125735, 0.997424, 0.0714359, -0.172914, -0.0725327, 0.982144, 0.135003, -0.625003, -0.0858411)
collision_layer = 1
collision_mask = 1
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0223615, 0.123611, -0.000351245)
body_offset = Transform3D(-2.03252e-05, -2.74181e-06, 0.999836, 0.0105387, -1, -1.84178e-05, 1.00121, 0.0105339, -9.22382e-06, 0.000351071, 0.123847, 0.0210863)

[node name="collision" parent="Player" index="2"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0.00374943, 0.355999, -0.00451565)

[node name="StaticBody3D" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.82852, 21.3258)
collision_layer = 30
collision_mask = 30

[node name="MeshInstance3D" type="MeshInstance3D" parent="StaticBody3D"]
mesh = SubResource("BoxMesh_h1agb")
skeleton = NodePath("../CollisionShape3D")

[node name="CollisionShape3D" type="CollisionShape3D" parent="StaticBody3D"]
shape = SubResource("BoxShape3D_abtxr")

[node name="item" parent="." instance=ExtResource("3_t5846")]
transform = Transform3D(0.830907, -0.556412, 0, 0.556412, 0.830907, 0, 0, 0, 1, -3.01397, 2.03151, 0.61581)
current_ammo = 10

[node name="Human" parent="." instance=ExtResource("4_87ppg")]
transform = Transform3D(0.257925, 0, 0.966165, 0, 1, 0, -0.966165, 0, 0.257925, -4.94039, 1.10565, 0)

[editable path="Player"]
[editable path="Player/human_01"]
[editable path="Player/HUD"]

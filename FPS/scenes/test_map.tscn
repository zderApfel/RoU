[gd_scene load_steps=12 format=3 uid="uid://bj0jo67t2470p"]

[ext_resource type="Script" path="res://scenes/test_map.gd" id="1_5s2km"]
[ext_resource type="PackedScene" uid="uid://t0g6ei0k5aga" path="res://nodes/entities/player/player.tscn" id="3_jdv74"]
[ext_resource type="PackedScene" uid="uid://5wdqoodxqi73" path="res://nodes/items/Firearm/akm.tscn" id="3_t5846"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_s83ws"]
sky_horizon_color = Color(0.644289, 0.654676, 0.681618, 1)
ground_bottom_color = Color(0.192157, 0.164706, 0.176471, 1)
ground_horizon_color = Color(0.644289, 0.654676, 0.681618, 1)

[sub_resource type="Sky" id="Sky_8x17u"]
sky_material = SubResource("ProceduralSkyMaterial_s83ws")

[sub_resource type="Environment" id="Environment_ivyuy"]
background_mode = 2
sky = SubResource("Sky_8x17u")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="PlaneMesh" id="PlaneMesh_5212l"]
size = Vector2(30, 30)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_6b0hm"]
albedo_color = Color(0.258824, 0.239216, 0.133333, 1)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_vtvis"]
points = PackedVector3Array(-15, 0, -15, -15, 0, 15, 15, 0, -15, 15, 0, 15)

[sub_resource type="BoxMesh" id="BoxMesh_h1agb"]
size = Vector3(6.811, 2.22, 8.219)

[sub_resource type="BoxShape3D" id="BoxShape3D_abtxr"]
size = Vector3(6.811, 2.22, 8.219)

[node name="Game" type="Node3D"]
script = ExtResource("1_5s2km")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_ivyuy")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866025, -0.433013, 0.25, 0, 0.5, 0.866025, -0.5, 0.75, -0.433013, 0, 6.23469, 0)
shadow_enabled = true

[node name="floor" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.216735, -0.087575, -0.338433)
collision_layer = 30
collision_mask = 30

[node name="Mesh" type="MeshInstance3D" parent="floor"]
mesh = SubResource("PlaneMesh_5212l")
skeleton = NodePath("../..")
surface_material_override/0 = SubResource("StandardMaterial3D_6b0hm")

[node name="CollisionShape3D" type="CollisionShape3D" parent="floor"]
shape = SubResource("ConvexPolygonShape3D_vtvis")

[node name="Player" parent="." instance=ExtResource("3_jdv74")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.7112, 1.40045, -3.41879)

[node name="pivot" parent="Player" index="0"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, -0.00144064, 1.27077, 0.00261831)

[node name="human_01" parent="Player" index="1"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0.00374943, 0, -0.00451565)

[node name="torso" parent="Player/human_01/Armature/Skeleton3D" index="1"]
transform = Transform3D(0.98107, 0.202586, 5.68672e-06, 1.19624e-05, 8.37981e-06, -1.00026, -0.202399, 0.981715, -3.1675e-05, 0.00669056, 0.601641, -0.0462604)
collision_layer = 1
collision_mask = 1
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.000119792, 9.25477e-05, 0.359775)
body_offset = Transform3D(1.00173, -2.38419e-06, 1.1971e-05, 1.19624e-05, 8.37981e-06, -1.00026, 5.49704e-05, 1.0024, -2.98721e-05, 0.000115693, 0.359868, -8.2016e-05)

[node name="neck" parent="Player/human_01/Armature/Skeleton3D" index="2"]
transform = Transform3D(0.994675, -0.0865509, -0.0509998, -0.0547877, -0.0387601, -0.99519, 0.0845091, 0.995302, -0.0432951, 0.0120325, 1.14101, 0.0240102)
collision_layer = 1
collision_mask = 1
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00146296, -0.0623718, 0.183959)
body_offset = Transform3D(0.995743, -0.0769276, -0.0453366, -0.0487171, -0.0392298, -0.995485, 0.0751295, 0.996074, -0.0428123, 0.00499868, 0.18061, 0.0701125)

[node name="upperarm_r" parent="Player/human_01/Armature/Skeleton3D" index="3"]
transform = Transform3D(-0.981186, 0.202505, -4.79015e-06, -1.53781e-05, 3.48389e-05, 0.992709, 0.202477, 0.98114, -2.77948e-05, -0.374389, 0.848771, 0.0323777)
collision_layer = 1
collision_mask = 1
joint_offset = Transform3D(0.999999, 0, 0, 0, 0.999996, 0, 0, 0, 0.999996, 4.05948e-05, 8.72394e-05, 0.114808)
body_offset = Transform3D(1.00186, -3.43025e-05, -9.26108e-07, 1.53781e-05, -3.48389e-05, -0.99271, -1.81794e-06, 1.00182, -2.81893e-05, -4.0561e-05, 0.113971, -8.41618e-05)

[node name="forearm_r" parent="Player/human_01/Armature/Skeleton3D" index="4"]
transform = Transform3D(-0.982531, 0.202387, 0.00806687, 0.00824761, -0.000100041, 1.00498, 0.20282, 0.980939, -0.00163954, -0.375508, 0.60272, 0.0326641)
collision_layer = 1
collision_mask = 1
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.77889e-08, 2.64496e-05, 0.13516)
body_offset = Transform3D(1.00328, 4.00245e-05, 5.7873e-06, -2.43313e-05, 0.000100232, -1.00502, 6.15716e-05, 1.0016, 2.44923e-05, -7.15256e-07, 0.135838, -2.98023e-05)

[node name="hand_r" parent="Player/human_01/Armature/Skeleton3D" index="5"]
transform = Transform3D(0.97726, 1.4143e-06, 0.201933, 2.44179e-05, 0.992197, 4.43135e-05, -0.201542, 9.46062e-06, 0.979231, -0.376603, 0.386477, 0.0329077)
collision_layer = 1
collision_mask = 1
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.65732e-05, 0.0845887, 1.15992e-05)
body_offset = Transform3D(-0.997826, 5.17923e-07, 0.000139728, -2.44263e-05, -0.992199, -4.44568e-05, 0.000124469, 9.40924e-06, 0.999835, 3.64482e-05, 0.0839288, -1.23978e-05)

[node name="upperarm_l" parent="Player/human_01/Armature/Skeleton3D" index="6"]
transform = Transform3D(-0.979912, 0.202222, 8.53175e-05, -7.77779e-06, -3.8438e-05, 1.00016, 0.202173, 0.98021, 4.54045e-05, 0.383819, 0.848901, -0.125561)
collision_layer = 1
collision_mask = 1
joint_offset = Transform3D(-3.61999e-06, 0, 0.999999, 0, 1, 0, -1, 0, -3.61999e-06, 4.40057e-05, -5.91166e-05, 0.112706)
body_offset = Transform3D(1.00055, 5.48959e-05, -7.43805e-05, 7.77779e-06, 3.8438e-05, -1.00016, -4.2513e-05, 1.00085, 6.17105e-05, -3.56436e-05, 0.112724, 5.22137e-05)

[node name="forearm_l" parent="Player/human_01/Armature/Skeleton3D" index="7"]
transform = Transform3D(-1.01928, 0.209144, -0.00137768, -0.00133583, 6.19658e-05, 1.02417, 0.214673, 0.998528, 0.000259423, 0.38927, 0.644976, -0.126137)
collision_layer = 1
collision_mask = 1
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0051476, -0.000597184, 0.0902838)
body_offset = Transform3D(1.04163, -0.00302248, 2.5154e-06, -8.71929e-05, -5.79786e-05, -1.02417, 0.0042437, 1.02019, -2.45071e-05, -0.00536394, 0.0924664, 0.000589609)

[node name="hand_l" parent="Player/human_01/Armature/Skeleton3D" index="8"]
transform = Transform3D(0.981633, -4.68196e-05, 0.202634, 6.20075e-05, 1.00178, 7.22571e-05, -0.202729, 2.41966e-05, 0.981307, 0.384788, 0.367817, -0.122247)
collision_layer = 1
collision_mask = 1
joint_offset = Transform3D(1, -5.68434e-14, -9.31196e-10, 5.68434e-14, 1, -1.42109e-14, 9.31196e-10, 1.42109e-14, 1, 5.66641e-05, 0.101291, -0.00348772)
body_offset = Transform3D(-1.00228, -0.0117065, -0.000128552, 0.0117019, -1.00171, -7.09067e-05, -0.000154808, 1.40818e-05, 1.00201, 0.0012421, 0.101463, 0.00349331)

[node name="thigh_r" parent="Player/human_01/Armature/Skeleton3D" index="9"]
transform = Transform3D(-0.190293, -0.981828, -0.00664592, -0.0349134, 3.7663e-05, 1.00118, -0.981463, 0.190407, -0.0342702, -0.118038, 0.0171494, -0.0414762)
collision_layer = 1
collision_mask = 1
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.000306178, -6.01735e-06, 0.127774)
body_offset = Transform3D(1.00035, -2.25902e-05, 3.42317e-05, 8.9135e-05, -3.70145e-05, -1.00179, -2.15173e-05, 1.00012, 5.02449e-07, -0.000310659, 0.128003, 5.96046e-06)

[node name="foreleg_r" parent="Player/human_01/Armature/Skeleton3D" index="10"]
transform = Transform3D(-0.190407, -0.98204, -0.00142909, -0.0349827, 0.00531534, 1.00293, -0.982454, 0.190128, -0.0353018, -0.116753, -0.289435, -0.0311642)
collision_layer = 1
collision_mask = 1
joint_offset = Transform3D(0.999999, 0, 0, 0, -3.61999e-06, -0.999999, 0, 0.999999, -3.61999e-06, 8.58325e-07, 0.000303855, 0.190117)
joint_rotation = Vector3(1.5708, 0, 0)
body_offset = Transform3D(1.00135, 0.000107646, -7.20099e-06, 0.000123296, -4.0974e-05, -1.00356, -9.85265e-05, 1.00029, -1.8599e-05, 4.76837e-07, 0.190793, -0.000300407)

[node name="ankle_r" parent="Player/human_01/Armature/Skeleton3D" index="11"]
transform = Transform3D(0.982012, -0.00665258, 0.190205, 5.14556e-06, 1.0009, 0.0348817, -0.190427, -0.0342041, 0.981714, -0.117756, -0.584849, -0.0233328)
collision_layer = 1
collision_mask = 1
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00117001, 0.104545, 0.00278824)
body_offset = Transform3D(6.02007e-06, -1.94721e-05, -1.00058, -0.0105342, -1.00145, -4.78774e-05, -1.00025, 0.0105612, 0.000156194, 0.00279188, 0.104709, 6.57439e-05)

[node name="thigh_l" parent="Player/human_01/Armature/Skeleton3D" index="12"]
transform = Transform3D(0.170546, 0.962972, -3.60068e-07, 0.048205, -0.00859263, 1.00069, 0.968086, -0.169082, -0.0508898, 0.111177, 0.0144523, -0.0847356)
collision_layer = 1
collision_mask = 1
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00145391, -2.28971e-05, 0.130592)
body_offset = Transform3D(0.984174, -2.21431e-05, 8.14572e-05, 0.00110566, -2.01743e-05, -1.00198, 0.000156477, 0.977741, -1.48723e-05, 0.00142026, 0.130852, 2.45571e-05)

[node name="foreleg_l" parent="Player/human_01/Armature/Skeleton3D" index="13"]
transform = Transform3D(0.173919, 0.985937, -0.00523495, 0.071221, -0.00728776, 0.999781, 0.979972, -0.173368, -0.0718101, 0.111543, -0.311328, -0.104847)
collision_layer = 1
collision_mask = 1
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.89012e-05, 0.000370139, 0.190525)
body_offset = Transform3D(0.99783, -0.000123337, -3.21642e-05, 4.47407e-05, -1.93547e-05, -1.00237, 0.00117962, 1.00109, -1.73002e-05, 2.5034e-05, 0.190977, -0.000367224)

[node name="ankle_l" parent="Player/human_01/Armature/Skeleton3D" index="14"]
transform = Transform3D(0.986112, 8.00268e-06, 0.173092, -0.0125734, 0.997422, 0.071435, -0.17291, -0.0725324, 0.982141, 0.135064, -0.625008, -0.0858531)
collision_layer = 1
collision_mask = 1
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0224251, 0.123616, -0.000349748)
body_offset = Transform3D(-2.09659e-05, -2.45124e-06, 0.999832, 0.0105386, -1, -1.77696e-05, 1.00118, 0.0105347, -1.14739e-05, 0.000349522, 0.123852, 0.0211493)

[node name="collision" parent="Player" index="2"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0.00374943, 0.355999, -0.00451565)

[node name="item" parent="." instance=ExtResource("3_t5846")]
transform = Transform3D(-0.950206, 0.311622, 0, -0.311622, -0.950206, 0, 0, 0, 1, -1.66033, 3.11486, 0)

[node name="StaticBody3D" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.82852, 21.3258)
collision_layer = 30
collision_mask = 30

[node name="MeshInstance3D" type="MeshInstance3D" parent="StaticBody3D"]
mesh = SubResource("BoxMesh_h1agb")
skeleton = NodePath("../CollisionShape3D")

[node name="CollisionShape3D" type="CollisionShape3D" parent="StaticBody3D"]
shape = SubResource("BoxShape3D_abtxr")

[editable path="Player"]
[editable path="Player/human_01"]
[editable path="Player/HUD"]

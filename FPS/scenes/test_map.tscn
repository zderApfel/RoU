[gd_scene load_steps=13 format=3 uid="uid://bj0jo67t2470p"]

[ext_resource type="Script" path="res://scenes/test_map.gd" id="1_5s2km"]
[ext_resource type="PackedScene" uid="uid://cgk5t57hm7b7t" path="res://nodes/items/Generic/dingdong.tscn" id="2_mppmo"]
[ext_resource type="PackedScene" uid="uid://t0g6ei0k5aga" path="res://nodes/entities/player/player.tscn" id="3_jdv74"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_s83ws"]
sky_horizon_color = Color(0.644289, 0.654676, 0.681618, 1)
ground_bottom_color = Color(0.192157, 0.164706, 0.176471, 1)
ground_horizon_color = Color(0.644289, 0.654676, 0.681618, 1)

[sub_resource type="Sky" id="Sky_8x17u"]
sky_material = SubResource("ProceduralSkyMaterial_s83ws")

[sub_resource type="Environment" id="Environment_ivyuy"]
background_mode = 2
sky = SubResource("Sky_8x17u")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_nk3o7"]

[sub_resource type="CapsuleMesh" id="CapsuleMesh_usrbq"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_jmt2q"]
albedo_color = Color(0.305882, 1, 1, 1)

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_7o7lt"]

[sub_resource type="PlaneMesh" id="PlaneMesh_5212l"]
size = Vector2(20, 20)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_jabyq"]
points = PackedVector3Array(-10, 0, -10, -10, 0, 10, 10, 0, -10, 10, 0, 10)

[node name="test_map" type="Node3D"]
script = ExtResource("1_5s2km")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_ivyuy")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866025, -0.433013, 0.25, 0, 0.5, 0.866025, -0.5, 0.75, -0.433013, 0, 6.23469, 0)
shadow_enabled = true

[node name="bullet_test" type="StaticBody3D" parent="."]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 0, 2.31349, -2.16401)

[node name="CollisionShape3D" type="CollisionShape3D" parent="bullet_test"]
transform = Transform3D(0.353, 0, 0, 0, -1.54301e-08, -0.353, 0, 0.353, -1.54301e-08, 0, 0, 0)
shape = SubResource("CapsuleShape3D_nk3o7")

[node name="MeshInstance3D" type="MeshInstance3D" parent="bullet_test/CollisionShape3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 3.55271e-15, 1, 0, 0, 0)
mesh = SubResource("CapsuleMesh_usrbq")
surface_material_override/0 = SubResource("StandardMaterial3D_jmt2q")

[node name="muzzle" type="Area3D" parent="bullet_test"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="bullet_test/muzzle"]
transform = Transform3D(0.081, 0, 0, 0, -3.54062e-09, -0.081, 0, 0.081, -3.54062e-09, 0.0166481, 0, -0.318411)
shape = SubResource("CapsuleShape3D_7o7lt")

[node name="floor" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.216735, -0.087575, -0.338433)
collision_layer = 30
collision_mask = 30

[node name="Mesh" type="MeshInstance3D" parent="floor"]
mesh = SubResource("PlaneMesh_5212l")
skeleton = NodePath("../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="floor"]
shape = SubResource("ConvexPolygonShape3D_jabyq")

[node name="Player" parent="." instance=ExtResource("3_jdv74")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.7112, 1.40045, 2.91897)

[node name="torso" parent="Player/human_01/Armature/Skeleton3D" index="1"]
transform = Transform3D(0.98105, 0.202581, 9.57747e-05, -0.000573025, 0.00329261, -1.00026, -0.202394, 0.981689, 0.00329609, 0.00664562, 0.601639, -0.0474472)
collision_layer = 1
collision_mask = 1
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.000105454, 8.49378e-05, 0.359773)
body_offset = Transform3D(1.00171, -3.29316e-06, 1.19713e-05, 1.19624e-05, 8.37981e-06, -1.00026, 5.52237e-05, 1.00238, -2.98729e-05, 0.000101328, 0.359868, -7.43866e-05)

[node name="neck" parent="Player/human_01/Armature/Skeleton3D" index="2"]
transform = Transform3D(1.00006, 0.000235194, 0.000112309, 8.70591e-05, -0.0408526, -0.996604, -0.000225142, 0.998707, -0.0408365, 0.00767016, 1.14108, -0.0162811)
collision_layer = 1
collision_mask = 1
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00101029, -0.0275566, 0.182406)
body_offset = Transform3D(1.00006, 0.000235194, 0.000112309, 8.70591e-05, -0.0408526, -0.996604, -0.000225142, 0.998707, -0.0408365, 0.000996351, 0.180661, 0.0349696)

[node name="upperarm_r" parent="Player/human_01/Armature/Skeleton3D" index="3"]
transform = Transform3D(-0.9811, 0.202774, 0.00312586, 0.00420274, 0.00496808, 1.00113, 0.202727, 0.981048, -0.00570863, -0.374802, 0.848825, 0.0306935)
collision_layer = 1
collision_mask = 1
joint_offset = Transform3D(0.999999, 0, 0, 0, 0.999996, 0, 0, 0, 0.999996, 3.66362e-05, 1.98674e-05, 0.114011)
body_offset = Transform3D(1.00183, -3.37362e-05, -9.25153e-07, 1.56185e-05, -3.53195e-05, -1.00116, -1.71363e-06, 1.0018, -2.81879e-05, -3.65973e-05, 0.114143, -1.66893e-05)

[node name="forearm_r" parent="Player/human_01/Armature/Skeleton3D" index="4"]
transform = Transform3D(-0.982426, 0.202648, 0.0112045, 0.0120043, 0.00258638, 1.00374, 0.203047, 0.980867, -0.00501858, -0.376671, 0.602748, 0.0320079)
collision_layer = 1
collision_mask = 1
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.79209e-05, 8.58046e-06, 0.135526)
body_offset = Transform3D(1.00326, 4.19915e-05, -2.62482e-06, -2.51384e-05, 8.02209e-05, -1.00381, 6.36429e-05, 1.00158, 2.45348e-05, -2.76566e-05, 0.136043, -1.19209e-05)

[node name="hand_r" parent="Player/human_01/Armature/Skeleton3D" index="5"]
transform = Transform3D(0.977189, 0.00312957, 0.202195, -0.00370589, 1.00011, 0.00270734, -0.201796, -0.00335552, 0.97924, -0.378474, 0.386622, 0.0329289)
collision_layer = 1
collision_mask = 1
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.30168e-05, 0.0840133, 4.92783e-05)
body_offset = Transform3D(-0.997814, 4.17582e-07, 0.000157714, -2.94494e-05, -1.00012, -4.51403e-05, 0.000124216, 9.40799e-06, 0.999901, 3.29018e-05, 0.0840235, -5.00679e-05)

[node name="upperarm_l" parent="Player/human_01/Armature/Skeleton3D" index="6"]
transform = Transform3D(-0.979923, 0.20196, -0.00564299, -0.00457905, 0.00617276, 1.00013, 0.20194, 0.980226, -0.00511166, 0.384396, 0.84867, -0.127388)
collision_layer = 1
collision_mask = 1
joint_offset = Transform3D(-3.61999e-06, 0, 0.999999, 0, 1, 0, -1, 0, -3.61999e-06, 4.35282e-05, -4.41099e-05, 0.112706)
body_offset = Transform3D(1.00053, 5.53131e-05, -7.43696e-05, 7.77782e-06, 3.8438e-05, -1.00016, -4.22895e-05, 1.00083, 6.17108e-05, -3.51667e-05, 0.112724, 3.71933e-05)

[node name="forearm_l" parent="Player/human_01/Armature/Skeleton3D" index="7"]
transform = Transform3D(-0.996005, 0.202584, -0.00719902, -0.00633472, 0.00473286, 1.01789, 0.205713, 0.98219, -0.0033808, 0.390981, 0.632135, -0.127005)
collision_layer = 1
collision_mask = 1
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00515278, -0.000558954, 0.103261)
body_offset = Transform3D(1.01705, -0.000152513, 8.47213e-07, -2.54348e-05, -6.61893e-05, -1.01792, 0.000398889, 1.00288, -2.87571e-05, -0.0052408, 0.105112, 0.000561476)

[node name="hand_l" parent="Player/human_01/Armature/Skeleton3D" index="8"]
transform = Transform3D(0.981651, -0.0057797, 0.202385, 0.00495225, 1.00098, 0.00473455, -0.202498, -0.00358549, 0.981328, 0.388073, 0.36725, -0.122227)
collision_layer = 1
collision_mask = 1
joint_offset = Transform3D(1, -5.68434e-14, -9.31196e-10, 5.68434e-14, 1, -1.42109e-14, 9.31196e-10, 1.42109e-14, 1, 9.47817e-05, 0.101734, -0.00341208)
body_offset = Transform3D(-1.00226, -0.0117054, -0.00013335, 0.0117114, -1.00094, -7.07568e-05, -0.000154167, -2.14204e-05, 1.00199, 0.00128537, 0.101828, 0.00342107)

[node name="thigh_r" parent="Player/human_01/Armature/Skeleton3D" index="9"]
transform = Transform3D(-0.190289, -0.981815, -0.00647491, -0.033129, -0.000133468, 1.00122, -0.981524, 0.190398, -0.0324888, -0.118048, 0.0171797, -0.0416625)
collision_layer = 1
collision_mask = 1
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.000350256, -1.89419e-06, 0.12774)
body_offset = Transform3D(1.00035, -2.42591e-05, 3.43546e-05, 8.30851e-05, -3.7692e-05, -1.00177, -2.32309e-05, 1.00011, -3.77186e-08, -0.000354767, 0.127966, 1.90735e-06)

[node name="foreleg_r" parent="Player/human_01/Armature/Skeleton3D" index="10"]
transform = Transform3D(-0.190405, -0.982013, -0.00128101, -0.0371457, 0.00590956, 1.00288, -0.982344, 0.190109, -0.0375704, -0.11686, -0.289427, -0.0312583)
collision_layer = 1
collision_mask = 1
joint_offset = Transform3D(0.999999, 0, 0, 0, -4.37113e-08, -0.999999, 0, 0.999999, -4.37113e-08, -9.55772e-05, 0.000284201, 0.190101)
body_offset = Transform3D(1.00132, 0.000101522, 1.79186e-05, 0.000119191, -4.23812e-05, -1.00358, -9.34005e-05, 1.00026, -4.74043e-07, 9.2268e-05, 0.190782, -0.000284195)

[node name="ankle_r" parent="Player/human_01/Armature/Skeleton3D" index="11"]
transform = Transform3D(0.981998, -0.00648227, 0.1902, -0.000587988, 1.00081, 0.0370438, -0.190415, -0.036446, 0.981609, -0.117856, -0.584833, -0.0226643)
collision_layer = 1
collision_mask = 1
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00114891, 0.10455, 0.00277048)
body_offset = Transform3D(3.8296e-06, -1.90735e-05, -1.00055, -0.0105342, -1.00144, -4.43012e-05, -1.00023, 0.0105611, 0.00015536, 0.002774, 0.104712, 4.45843e-05)

[node name="thigh_l" parent="Player/human_01/Armature/Skeleton3D" index="12"]
transform = Transform3D(0.169498, 0.962691, 4.09373e-05, -0.171211, 0.0299868, 0.986048, 0.948018, -0.166532, 0.177777, 0.111161, 0.0158712, -0.114681)
collision_layer = 1
collision_mask = 1
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00143032, -1.74259e-05, 0.130773)
body_offset = Transform3D(0.978152, 1.51992e-05, 7.13021e-05, 0.000348583, -1.77454e-05, -1.00195, 0.000153452, 0.977448, -1.57487e-05, 0.00138974, 0.131028, 1.93119e-05)

[node name="foreleg_l" parent="Player/human_01/Armature/Skeleton3D" index="13"]
transform = Transform3D(0.169693, 0.985919, -0.00519033, -0.00909604, 0.00688839, 1.00229, 0.964453, -0.173385, 0.0102925, 0.111499, -0.298962, -0.180231)
collision_layer = 1
collision_mask = 1
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.26426e-05, 0.000393004, 0.190495)
body_offset = Transform3D(0.97931, -0.000124142, -2.98694e-05, 4.16376e-05, -1.94017e-05, -1.00236, 0.000140458, 1.00107, -1.70689e-05, 1.81198e-05, 0.190945, -0.000390172)

[node name="ankle_l" parent="Player/human_01/Armature/Skeleton3D" index="14"]
transform = Transform3D(0.986105, 5.11659e-05, 0.173092, 0.0015829, 1.00012, -0.00922351, -0.173363, 0.00937938, 0.984689, 0.13499, -0.613162, -0.187056)
collision_layer = 1
collision_mask = 1
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.022398, 0.123588, -0.000269029)
body_offset = Transform3D(-2.13832e-05, -1.56742e-06, 0.999829, 0.0105387, -1.0001, -2.17883e-05, 1.00117, 0.010535, -1.52141e-05, 0.000268698, 0.123837, 0.0211223)

[node name="neck_transform" parent="Player/human_01/Armature/Skeleton3D" index="15"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00667381, 0.960419, -0.0512507)
use_external_skeleton = true
external_skeleton = NodePath("..")

[node name="line_of_sight" parent="Player/human_01/Armature/Skeleton3D/neck_transform/Camera3D" index="0"]
collision_mask = 4

[node name="loot_hand" parent="Player/HUD" index="0"]
visible = false

[node name="Dingdong" parent="." instance=ExtResource("2_mppmo")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.8722, 1.51291, 5.05674)
hands = 0

[editable path="Player"]
[editable path="Player/human_01"]
[editable path="Player/HUD"]
